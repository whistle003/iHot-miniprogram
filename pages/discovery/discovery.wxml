<!-- discovery.wxml -->
<scroll-view class="scrollarea" scroll-y="{{true}}" refresher-enabled="{{true}}" refresher-triggered="{{refreshing}}" bindrefresherrefresh="onRefresh">
  <!-- å¤´éƒ¨ -->
  <view class="header">
    <view class="back-nav" bindtap="navigateToIndex">
      <text class="icon">â†</text>
    </view>
    <view class="header-title flex-center">
      <text class="icon mr-2">ğŸ”</text>
      <text>å‘ç°</text>
    </view>
    <view class="placeholder"></view>
  </view>

  <!-- æœç´¢æ¡† -->
  <view class="search-container">
    <view class="search-box">
      <text class="search-icon">ğŸ”</text>
      <input class="search-input" placeholder="æœç´¢çƒ­é—¨å†…å®¹" bindinput="onSearchInput" value="{{searchText}}" confirm-type="search" bindconfirm="onSearch" />
      <text wx:if="{{searchText.length > 0}}" class="clear-icon" bindtap="clearSearch">âœ•</text>
    </view>
  </view>

  <!-- å†…å®¹åŒºåŸŸ -->
  <view class="content-area">
    <!-- å¹³å°å¯¼èˆª -->
    <view class="card platform-card">
      <view class="card-header">
        <view class="title">
          <text class="icon mr-2">ğŸ“±</text>
          <text>çƒ­é—¨å¹³å°</text>
        </view>
      </view>
      
      <view class="platform-grid">
        <view class="platform-item" bindtap="navigateToPlatform" data-platform="weibo">
          <view class="platform-icon weibo-color">
            <text class="icon">ğŸ“±</text>
          </view>
          <text class="platform-name">å¾®åš</text>
        </view>
        <view class="platform-item" bindtap="navigateToPlatform" data-platform="zhihu">
          <view class="platform-icon zhihu-color">
            <text class="icon">ğŸ“š</text>
          </view>
          <text class="platform-name">çŸ¥ä¹</text>
        </view>
        <view class="platform-item" bindtap="navigateToPlatform" data-platform="douyin">
          <view class="platform-icon douyin-color">
            <text class="icon">ğŸµ</text>
          </view>
          <text class="platform-name">æŠ–éŸ³</text>
        </view>
        <view class="platform-item" bindtap="navigateToPlatform" data-platform="douban">
          <view class="platform-icon douban-color">
            <text class="icon">ğŸ¬</text>
          </view>
          <text class="platform-name">è±†ç“£</text>
        </view>
        <view class="platform-item" bindtap="navigateToPlatform" data-platform="tieba">
          <view class="platform-icon tieba-color">
            <text class="icon">ğŸ’¬</text>
          </view>
          <text class="platform-name">è´´å§</text>
        </view>
        <view class="platform-item" bindtap="navigateToPlatform" data-platform="toutiao">
          <view class="platform-icon toutiao-color">
            <text class="icon">ğŸ“°</text>
          </view>
          <text class="platform-name">å¤´æ¡</text>
        </view>
        <view class="platform-item" bindtap="navigateToPlatform" data-platform="hupu">
          <view class="platform-icon hupu-color">
            <text class="icon">ğŸ€</text>
          </view>
          <text class="platform-name">è™æ‰‘</text>
        </view>
        <view class="platform-item" bindtap="navigateToPlatform" data-platform="history">
          <view class="platform-icon history-color">
            <text class="icon">ğŸ“œ</text>
          </view>
          <text class="platform-name">å†å²</text>
        </view>
      </view>
    </view>

    <!-- æ¨èå†…å®¹ -->
    <view class="card">
      <view class="card-header">
        <view class="title">
          <text class="icon mr-2">ğŸ”¥</text>
          <text>æ¨èå†…å®¹</text>
        </view>
        <view class="update-time">
          <text>æ›´æ–°äº {{updateTime}}</text>
        </view>
      </view>
      
      <view class="discovery-list">
        <view class="discovery-item" wx:for="{{discoveryList}}" wx:key="index" bindtap="copyTitleAndUrl" data-title="{{item.title}}" data-url="{{item.url}}" bindlongpress="navigateToOriginal" data-source="{{item.source}}">
          <view class="discovery-icon">
            <text class="icon">{{item.icon}}</text>
          </view>
          <view class="discovery-content">
            <view class="discovery-title">{{item.title}}</view>
            <view class="discovery-info">
              <text class="discovery-source">{{item.source}}</text>
              <text class="discovery-hot">ğŸ”¥ {{item.hot}}</text>
            </view>
          </view>
          <view class="discovery-arrow">
            <text class="icon">ğŸ“‹ğŸ”—</text>
          </view>
        </view>
      </view>
      
      <view class="card-footer">
        <view class="total-count">
          <text>å…± {{discoveryList.length}} æ¡æ¨è</text>
        </view>
        <view class="refresh-btn" bindtap="onRefresh">
          <text class="icon">ğŸ”„</text>
        </view>
      </view>
    </view>
  </view>
</scroll-view> 